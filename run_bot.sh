#!/bin/bash
# run_bot.sh - –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞

cd ~/cloud-api

# –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
while true; do
    echo "üöÄ –ó–∞–ø—É—Å–∫–∞–µ–º –±–æ—Ç–∞... ($(date))"
    python bot.py
    
    # –ï—Å–ª–∏ –±–æ—Ç —É–ø–∞–ª, –∂–¥–µ–º 5 —Å–µ–∫—É–Ω–¥ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º
    echo "‚ö†Ô∏è –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥..."
    sleep 5
done
#!/data/data/com.termux/files/usr/bin/bash
# run_bot.sh - –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞

cd /data/data/com.termux/files/home/cloud-api

echo "ü§ñ –ó–∞–ø—É—Å–∫ Telegram –±–æ—Ç–∞..."
echo "üìÖ –î–∞—Ç–∞: $(date)"
echo "üìÇ –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: $(pwd)"

# –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª —Å –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–º
while true; do
    echo "üöÄ –ó–∞–ø—É—Å–∫–∞–µ–º –±–æ—Ç–∞... ($(date))"
    python bot.py
    
    EXIT_CODE=$?
    echo "‚ö†Ô∏è –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è —Å –∫–æ–¥–æ–º: $EXIT_CODE"
    
    if [ $EXIT_CODE -eq 0 ]; then
        echo "‚úÖ –ë–æ—Ç –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É –Ω–æ—Ä–º–∞–ª—å–Ω–æ"
        break
    else
        echo "üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã..."
        sleep 3
    fi
done
