#!/bin/bash
echo "üîç –ü–†–û–í–ï–†–ö–ê SSH –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–Ø"

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å—Ç—å –ª–∏ –∫–ª—é—á
if [ ! -f ~/.ssh/id_ed25519 ]; then
    echo "‚ùå SSH –∫–ª—é—á –Ω–µ –Ω–∞–π–¥–µ–Ω"
    exit 1
fi

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ–±–∞–≤–ª–µ–Ω –ª–∏ –∫–ª—é—á –≤ –∞–≥–µ–Ω—Ç
if ! ssh-add -l | grep -q "id_ed25519"; then
    echo "üîë –î–æ–±–∞–≤–ª—è–µ–º –∫–ª—é—á –≤ –∞–≥–µ–Ω—Ç..."
    eval "$(ssh-agent -s)"
    ssh-add ~/.ssh/id_ed25519
fi

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ GitHub
echo "üåê –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ GitHub..."
ssh -T git@github.com
