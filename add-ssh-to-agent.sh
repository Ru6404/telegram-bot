#!/bin/bash
echo "üîê –î–û–ë–ê–í–õ–ï–ù–ò–ï SSH –ö–õ–Æ–ß–ê –í –ê–ì–ï–ù–¢"

# –ó–∞–ø—É—Å–∫–∞–µ–º ssh-agent
eval "$(ssh-agent -s)" >/dev/null 2>&1

# –î–æ–±–∞–≤–ª—è–µ–º –∫–ª—é—á
ssh-add ~/.ssh/id_ed25519 2>/dev/null

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –∫–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω
if ssh-add -l | grep -q "id_ed25519"; then
    echo "‚úÖ –ö–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω –≤ ssh-agent"
else
    echo "‚ùå –û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–ª—é—á–∞"
    echo "üîç –ü—Ä–æ–≤–µ—Ä—å –ø—É—Ç—å: ~/.ssh/id_ed25519"
    ls -la ~/.ssh/
fi

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
echo "üåê –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ GitHub..."
ssh -T git@github.com
